<div class="max-w-4xl mx-auto my-8">
  <div class="bg-white rounded-2xl shadow-lg p-10">
    <h2 class="text-2xl font-bold text-gray-800 mb-8 text-center">
      <%= food.persisted? ? "Editar Alimento" : "Novo Alimento" %>
    </h2>
    
    <%= form_with model: food, local: true do |form| %>
      <% if food.errors.any? %>
        <div class="mb-6 rounded-lg bg-red-50 border border-red-200 px-4 py-3">
          <h4 class="font-bold text-red-800 mb-2">
            <%= pluralize(food.errors.count, "erro") %> impediram o cadastro:
          </h4>
          <ul class="list-disc list-inside text-red-700">
            <% food.errors.full_messages.each do |message| %>
              <li><%= message %></li>
            <% end %>
          </ul>
        </div>
      <% end %>

      <div class="grid grid-cols-1 md:grid-cols-2 gap-4 mb-6">
        <div>
          <%= form.label :name, "Nome do Alimento", class: "block text-sm font-medium text-gray-700 mb-1" %>
          <%= form.text_field :name, class: "block w-full rounded-xl border border-gray-300 px-4 py-3 bg-gray-50 focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 text-gray-900", placeholder: "Ex: Frango (peito sem pele)" %>
        </div>
        <div>
          <%= form.label :category, "Categoria", class: "block text-sm font-medium text-gray-700 mb-1" %>
          <%= form.select :category, options_for_select([
            ['Proteínas', 'Protein'],
            ['Carboidratos', 'Carbs'],
            ['Vegetais', 'Vegetables'],
            ['Frutas', 'Fruits'],
            ['Gorduras', 'Fats'],
            ['Suplementos', 'Supplements'],
            ['Laticínios', 'Dairy'],
            ['Grãos', 'Grains']
          ], food.category), { prompt: "Selecione..." }, { class: "block w-full rounded-xl border border-gray-300 px-4 py-3 bg-gray-50 focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 text-gray-900" } %>
        </div>
      </div>

      <div class="mb-6 p-4 bg-yellow-50 border-l-4 border-yellow-400 rounded">
        <span class="font-semibold text-yellow-800 flex items-center gap-2">
          <svg class="w-5 h-5 text-yellow-500" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 16h-1v-4h-1m0-4h.01"/>
          </svg>
          Atenção:
        </span>
        <span class="text-gray-700 ml-2">
          Informe os valores nutricionais para <b>100 gramas</b> do alimento.
        </span>
      </div>

      <div class="grid grid-cols-1 md:grid-cols-4 gap-4 mb-6">
        <div>
          <label class="block text-sm font-medium text-gray-700 mb-1 whitespace-nowrap">Calorias por 100g</label>
          <div class="flex items-center">
            <%= form.number_field :calories_per_100g, step: 0.1, class: "rounded-xl border border-gray-300 px-4 py-2 w-24 bg-gray-50 focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 text-gray-900 text-base" %>
            <span class="ml-2 px-2 py-0.5 rounded bg-indigo-50 text-indigo-600 text-xs font-semibold">kcal</span>
          </div>
        </div>
        <div>
          <label class="block text-sm font-medium text-gray-700 mb-1 whitespace-nowrap">Proteína por 100g</label>
          <div class="flex items-center">
            <%= form.number_field :protein_per_100g, step: 0.1, class: "rounded-xl border border-gray-300 px-4 py-2 w-24 bg-gray-50 focus:ring-2 focus:ring-green-500 focus:border-green-500 text-gray-900 text-base" %>
            <span class="ml-2 px-2 py-0.5 rounded bg-green-50 text-green-600 text-xs font-semibold">g</span>
          </div>
        </div>
        <div>
          <label class="block text-sm font-medium text-gray-700 mb-1 whitespace-nowrap">Carboidratos por 100g</label>
          <div class="flex items-center">
            <%= form.number_field :carbs_per_100g, step: 0.1, class: "rounded-xl border border-gray-300 px-4 py-2 w-24 bg-gray-50 focus:ring-2 focus:ring-orange-500 focus:border-orange-500 text-gray-900 text-base" %>
            <span class="ml-2 px-2 py-0.5 rounded bg-orange-50 text-orange-600 text-xs font-semibold">g</span>
          </div>
        </div>
        <div>
          <label class="block text-sm font-medium text-gray-700 mb-1 whitespace-nowrap">Gorduras por 100g</label>
          <div class="flex items-center">
            <%= form.number_field :fat_per_100g, step: 0.1, class: "rounded-xl border border-gray-300 px-4 py-2 w-24 bg-gray-50 focus:ring-2 focus:ring-red-500 focus:border-red-500 text-gray-900 text-base" %>
            <span class="ml-2 px-2 py-0.5 rounded bg-red-50 text-red-600 text-xs font-semibold">g</span>
          </div>
        </div>
      </div>
      <div class="flex gap-3 mt-8">
        <%= form.submit food.persisted? ? "Atualizar Alimento" : "Criar Alimento", 
                        class: "inline-flex items-center gap-2 px-6 py-3 rounded-xl bg-green-600 text-white font-semibold hover:bg-green-700 transition shadow" %>
        <%= link_to "Cancelar", foods_path, 
                    class: "inline-flex items-center gap-2 px-6 py-3 rounded-xl bg-gray-200 text-gray-700 font-semibold hover:bg-gray-300 transition shadow" %>
      </div>
    <% end %>
  </div>
</div>